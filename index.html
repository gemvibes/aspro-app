<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>ASPRO-V2 ATK Stock Profesional</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.18.5/xlsx.full.min.js"></script>
</head>
<body>

    <div id="loginPage" class="login-container">
        <div class="main-logo">
            <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M20 7L12 3L4 7M20 7L12 11M20 7V17L12 21M12 11L4 7M12 11V21M4 7V17L12 21" stroke="#1976d2" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                <path d="M12 12L15 10M17 8L18 7" stroke="#2e7d32" stroke-width="2" stroke-linecap="round"/>
            </svg>
        </div>
        <h1>ASPRO-V2</h1>
        <p>ATK Stock Profesional</p>
        
        <div class="login-box">
            <input type="password" id="pinInput" placeholder="Masukkan PIN Keamanan" inputmode="numeric">
            <button id="btnLogin">MASUK SISTEM</button>
        </div>
    </div>

    <div id="appPage" style="display:none;">
        <header>
            <div class="nav-content">
                <div class="nav-brand">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" style="margin-right:8px">
                        <path d="M20 7L12 3L4 7L12 11L20 7Z" stroke="white" stroke-width="2" stroke-linejoin="round"/>
                        <path d="M4 17L12 21L20 17V7L12 11L4 7V17Z" stroke="white" stroke-width="2" stroke-linejoin="round"/>
                    </svg>
                    <b>ASPRO-V2</b>
                </div>
                <button id="btnLogout" class="btn-out">LOGOUT</button>
            </div>
        </header>

        <div class="main-content">
            <div class="summary-grid">
                <div class="card-mini in">
                    <small>Barang Masuk</small>
                    <h2 id="summaryMasuk">0</h2>
                </div>
                <div class="card-mini out">
                    <small>Barang Keluar</small>
                    <h2 id="summaryKeluar">0</h2>
                </div>
            </div>

            <section class="panel">
                <h3>üìù Input Transaksi</h3>
                <form id="stokForm">
                    <input type="text" id="namaBarang" placeholder="Nama Barang..." required>
                    <div class="row">
                        <input type="number" id="jumlah" placeholder="Jumlah" required>
                        <input type="text" id="satuan" placeholder="Satuan" required>
                    </div>
                    <select id="jenis">
                        <option value="Masuk">üü¢ Barang Masuk</option>
                        <option value="Keluar">üîµ Barang Keluar</option>
                    </select>
                    <input type="date" id="tanggal" required>
                    <button type="button" id="btnSimpan" class="btn-save">üíæ SIMPAN</button>
                </form>
            </section>

            <section class="panel">
                <div class="panel-head">
                    <h3>üìä Riwayat Stok</h3>
                    <button id="btnExport" class="btn-xls">üì• EXCEL</button>
                </div>
                <input type="text" id="cariBarang" placeholder="Cari barang..." class="search-input">
                <div class="table-container">
                    <table>
                        <thead>
                            <tr>
                                <th>Barang</th>
                                <th>Qty</th>
                                <th>Tanggal</th>
                                <th>#</th>
                            </tr>
                        </thead>
                        <tbody id="tabelBody"></tbody>
                    </table>
                </div>
            </section>
        </div>
    </div>

    <script src="app.js"></script>
</body>
</html>
