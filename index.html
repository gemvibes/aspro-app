<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ASPRO - ATK STOCK PROFESIONAL</title>
<link rel="stylesheet" href="style.css">
</head>
<body>

<!-- LOGIN -->
<div id="loginPage" class="login-container">
    <h2>Login ASPRO</h2>
    <input type="password" id="pinInput" placeholder="Masukkan PIN">
    <button onclick="doLogin()">Login</button>
</div>

<!-- APLIKASI -->
<div id="appPage" style="display:none;">
    <h2>ASPRO - ATK STOCK PROFESIONAL</h2>

    <form id="stokForm">
        <input type="text" id="namaBarang" placeholder="Nama Barang" required>
        <input type="number" id="jumlah" placeholder="Jumlah" required>
        <input type="text" id="satuan" placeholder="Satuan" required>
        <select id="jenis">
            <option value="Masuk">Masuk</option>
            <option value="Keluar">Keluar</option>
        </select>
        <input type="date" id="tanggal" required>
        <button type="submit">Simpan</button>
    </form>

    <table border="1">
        <thead>
            <tr>
                <th>Nama</th>
                <th>Jumlah</th>
                <th>Satuan</th>
                <th>Jenis</th>
                <th>Tanggal</th>
            </tr>
        </thead>
        <tbody id="tabelBody"></tbody>
    </table>
</div>

<!-- LOGIN SCRIPT (PALING PENTING) -->
<script>
function doLogin(){
    const pin = document.getElementById("pinInput").value;

    if(pin === "1234"){
        alert("Login berhasil");
        document.getElementById("loginPage").style.display = "none";
        document.getElementById("appPage").style.display = "block";

        // PENTING: baru load data setelah login
        if(typeof loadItems === "function"){
            loadItems();
        }
    } else {
        alert("PIN salah");
    }
}
</script>

<!-- APP LOGIC -->
<script src="app.js"></script>

</body>
</html>
